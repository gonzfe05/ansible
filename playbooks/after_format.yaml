---
- name: after_format
  hosts: localhost
  roles:
    - role: apt_installs
      vars:
        apt_installs_custom:
          - openssh-client       # SSH client for outbound connections
          - openssh-server       # SSH server for inbound connections (if ssh_server_enabled)
          - git
          - zsh
          - tmux
          - stow
          - fzf
          - zip
          - vim
          - xclip                # Clipboard support for X11
          - wl-clipboard         # Clipboard support for Wayland
          - vim-gtk3             # Vim with clipboard support
          - sudo
            #- clang-12
          - build-essential
      become: true
      become_user: root
      tags: ['core']
    - role: users
      vars:
        users:
          - name: aleph
            uid: 1001
            shell: /bin/bash
            comment: "Aleph User"
            groups: "admin,sudo,docker"
            password: ""
      become: true
      become_user: root
      tags: ['core']
    - role: x11_auth
      vars:
        x11_auth_users:
          - aleph
      become: true
      tags: ['core']
    - role: ssh
      # vars:
      #   ssh_server_enabled: true  # Uncomment to enable SSH server for remote access (VSCode/Cursor)
      become: true
      become_user: aleph
      tags: ['core']
    - role: env_setup
      become: true
      become_user: aleph
      tags: ['core']
    - role: dotfiles
      become: true
      become_user: aleph
      tags: ['core']
    - role: vscode
      become: true
      become_user: root
      tags: ['core']
    - role: node
      become: true
      become_user: aleph
      tags: ['core']
    - role: aws
      become: true
      become_user: aleph
      tags: ['aws']
    - role: snowflake
      become: true
      become_user: aleph
      tags: ['snowflake']
    - role: repos
      become: true
      become_user: aleph
      tags: ['projects']
    - role: go
      become: true
      become_user: root
      tags: ['go']
    - role: python
      become: true
      become_user: root
      tags: ['python']
    - role: R
      become: true
      become_user: root
      tags: ['R']
    - role: obsidian
      become: true
      become_user: aleph
      tags: ['obsidian']
    - role: astro_cli
      become: true
      become_user: aleph
      tags: ['astro']
    - role: ngrok
      become: true
      become_user: aleph
      tags: ['ngrok']
    - role: runpodctl
      become: true
      become_user: aleph
      tags: ['runpodctl']
    - role: claude
      become: true
      become_user: aleph
      tags: ['claude']

